<!DOCTYPE html>
<html lang="es">

	<head id="Head">
		<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
		<title> Ema Asesora Virtual - PÃ¡gina Interna</title>
		<link id="style" rel="stylesheet" type="text/css" href="emafiles/ax-style.css" />
		<link rel='SHORTCUT ICON' href='https://www.epm.com.co/site/Portals/0/favicon.ico?ver=2012-01-10-105006-000' type='image/x-icon' />
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
	</head>

<body id="Body">

	
<!--Inicia chat-->
<div class="container-chat-bot mostrarchat" >
    
    <!--Aqui se pega el controlador que llama el chat-->
            <div id="webchat-dllo" role="main"> 
				
                <script src="https://cdn.botframework.com/botframework-webchat/4.5.2/webchat-es5.js"></script>
				
                <script>					
				
					(async function() {

						const secret = '0bMxPZcjwd4.2wrQMAgmEKxwd9D9ktFmsNhjKNStfIi7iKlVi5DC7PM';
						
						const res = await fetch('https://directline.botframework.com/v3/directline/tokens/generate', { 
							body: JSON.stringify({ user: { id: 'Internal_user', name: 'internaluser' }}),
							headers: {
							Authorization: `Bearer ${secret}`,
							'Content-type': 'application/json'
							},
						   method: 'POST',
						});
						const { token } = await res.json();


						window.WebChat.renderWebChat({
							directLine: window.WebChat.createDirectLine({ token }),
							locale: 'es-ES',
							styleOptions: {
								rootHeight: '100%',
								rootWidth: '100%',
								hideUploadButton: true
							}
						}, document.getElementById('webchat-dllo'));

					})().catch(err => console.error(err));	

                </script>
            </div>

    <!--</div>-->
</div>
<!--Finaliza chat-->

</body>

</html>